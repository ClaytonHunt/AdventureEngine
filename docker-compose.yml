services:
  api:
    container_name: adventureengine-api
    build:
      context: .
      dockerfile: apps/Api/Dockerfile
    env_file:
      - .env.example
    environment:
      ASPNETCORE_URLS: http://+:8080
      ASPNETCORE_HTTP_PORTS: 8080
      ASPNETCORE_ENVIRONMENT: Development
      AllowedOrigins__0: http://localhost:5173
    ports:
      - "7001:8080"
    healthcheck:
      test: ["CMD", "wget", "--spider", "--quiet", "http://localhost:8080/health"]
      interval: 10s
      timeout: 3s
      retries: 10
      start_period: 20s
